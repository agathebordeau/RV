<html>
<head>
    
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.5/p5.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.5/addons/p5.dom.js"></script>
	<script src="p5.speech.js"></script>
	<script>
        
	var myRec = new p5.SpeechRec(); 
    var blabla="";
    var mesBlablas=[]; 

 
        
	function setup()
	{
		createCanvas(windowWidth, windowHeight);
		background(255, 255, 255);

		// instructions:
		textSize(20);
		noStroke();
		fill(0, 0, 0, 255);
		textAlign(CENTER);
		text("Dis quelquechose !", width/2, height/2);

		myRec.onResult = showResult;
		myRec.continuous = true;		    	
		myRec.start();
 
	}
        
	function draw()
	{
	}

	function showResult()
	{
		if(myRec.resultValue==true) {
            blabla=myRec.resultString;
            mesBlablas.push(blabla);

            fill(0, 0, 0, random(0, 150));
			textSize(random(1, 200));
			rx = random(width);
    		ry = random(height);
            text(blabla, rx, ry);
			
			console.log(myRec.resultString);
            console.log(mesBlablas);
            console.log(mesBlablas[0]);
		}
        
	}

</script>
</head>
<body>
</body>
</html>
